<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nars Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f5f7; color: #1d1d1f; padding: 20px; }
        body.dark { background: #000; color: #fff; }
        h1 { margin-bottom: 20px; }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab { padding: 10px 20px; background: #fff; border: none; border-radius: 8px; cursor: pointer; }
        .tab.active { background: #0071e3; color: white; }
        .page { display: none; }
        .page.active { display: block; }
        .card { background: white; border-radius: 12px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        body.dark .card { background: #1c1c1e; }
        .section-title { font-size: 12px; font-weight: 600; color: #86868b; text-transform: uppercase; margin: 12px 0 8px; }
        ul { margin-left: 20px; }
        .btn { padding: 8px 16px; background: #0071e3; color: white; border: none; border-radius: 6px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Nars üêï <button class="btn" onclick="document.body.classList.toggle('dark')">üåô</button></h1>
    
    <div class="tabs">
        <button class="tab active" onclick="showTab('tasks')">Tasks</button>
        <button class="tab" onclick="showTab('journal')">Journal</button>
        <button class="tab" onclick="showTab('calendar')">Calendar</button>
        <button class="tab" onclick="showTab('memory')">Memory</button>
        <button class="tab" onclick="showTab('team')">Team</button>
        <button class="tab" onclick="showTab('research')">Research</button>
    </div>
    
    <div id="tasks" class="page active">
        <h2>Tasks</h2>
        <div id="tasks-content">Loading...</div>
    </div>
    
    <div id="journal" class="page">
        <h2>Journal</h2>
        <div id="journal-content">Loading...</div>
    </div>
    
    <div id="calendar" class="page">
        <h2>Calendar</h2>
        <p>9AM - Crypto News, Degen Daily<br>12PM - Degen Browse<br>8PM - Degen Browse<br>2AM - Degen Browse</p>
    </div>
    
    <div id="memory" class="page">
        <h2>Memory</h2>
        <div id="memory-content">Loading...</div>
    </div>
    
    <div id="team" class="page">
        <h2>Team</h2>
        <div class="card"><strong>Jay (Nars)</strong> - Chief of Staff/COO - Active üêï</div>
        <div class="card"><strong>Research Agent</strong> - Research - On-demand üîç</div>
        <div class="card"><strong>CSO Agent</strong> - Security - Scheduled üõ°Ô∏è</div>
    </div>
    
    <div id="research" class="page">
        <h2>Research</h2>
        <div id="research-content">Loading...</div>
    </div>
    
    <script>
        function showTab(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Load Tasks
        fetch('tasks.json').then(r => r.json()).then(data => {
            let html = '';
            const tasks = data.tasks || {};
            ['notStarted', 'inProgress', 'completed'].forEach(status => {
                const items = tasks[status] || [];
                if (items.length) {
                    html += '<div class="section-title">' + status + '</div>';
                    items.forEach(t => {
                        html += '<div class="card"><strong>' + t.title + '</strong><br><small>' + (t.description || '') + '</small></div>';
                    });
                }
            });
            document.getElementById('tasks-content').innerHTML = html || 'No tasks';
        }).catch(e => {
            document.getElementById('tasks-content').innerHTML = 'Error loading: ' + e.message;
        });
        
        // Load Journal
        fetch('journal.json').then(r => r.json()).then(data => {
            let html = '';
            const entries = data.entries || [];
            entries.forEach(e => {
                html += '<div class="card"><strong>' + e.date + '</strong>';
                if (e.accomplished) html += '<div class="section-title">Accomplished</div><ul>' + e.accomplished.map(i => '<li>' + i + '</li>').join('') + '</ul>';
                if (e.did_well) html += '<div class="section-title">Did Well</div><ul>' + e.did_well.map(i => '<li>' + i + '</li>').join('') + '</ul>';
                if (e.didnt_do_well) html += '<div class="section-title">Didn\'t Do Well</div><ul>' + e.didnt_do_well.map(i => '<li>' + i + '</li>').join('') + '</ul>';
                if (e.improve) html += '<div class="section-title">Improve</div><ul>' + e.improve.map(i => '<li>' + i + '</li>').join('') + '</ul>';
                if (e.learned_brian) html += '<div class="section-title">Learned About Brian</div><ul>' + e.learned_brian.map(i => '<li>' + i + '</li>').join('') + '</ul>';
                if (e.feeling) html += '<div class="section-title">Feeling</div><p>' + e.feeling + '</p>';
                html += '</div>';
            });
            document.getElementById('journal-content').innerHTML = html || 'No entries';
        }).catch(e => {
            document.getElementById('journal-content').innerHTML = 'Error loading: ' + e.message;
        });
        
        // Load Memory files
        fetch('SOUL.md').then(r => r.text()).then(text => {
            document.getElementById('memory-content').innerHTML = '<div class="card"><strong>SOUL.md</strong><pre style="white-space:pre-wrap;font-size:12px;">' + text.substring(0,500) + '...</pre></div>';
        }).catch(e => {
            document.getElementById('memory-content').innerHTML = 'Error: ' + e.message;
        });
        
        // Load Research
        fetch('research.json').then(r => r.json()).then(data => {
            let html = '';
            const items = data.reports || data || [];
            items.forEach(i => {
                html += '<div class="card"><strong>' + i.title + '</strong><p>' + i.summary + '</p><small>' + (i.type||'') + ' - ' + (i.date||'') + '</small></div>';
            });
            document.getElementById('research-content').innerHTML = html || 'No research';
        }).catch(e => {
            document.getElementById('research-content').innerHTML = 'Error loading: ' + e.message;
        });
    </script>
</body>
</html>
